{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "",
  "type": "object",
  "properties": {
    "modelo": {
      "type": "object",
      "properties": {
        "metadatos": {
          "type": "object",
          "properties": {
            "proyecto": {
              "type": "string",
              "minLength": 1
            },
            "version": {
              "type": "string",
              "minLength": 1
            },
            "autor": {
              "type": "string",
              "minLength": 1
            },
            "fecha_creacion": {
              "type": "string",
              "minLength": 1
            },
            "time_zone": {
              "type": "string",
              "minLength": 1
            }
          },
          "required": [
            "proyecto",
            "version",
            "autor",
            "fecha_creacion",
            "time_zone"
          ]
        },
        "hosts_groups": {
          "type": "object",
          "properties": {
            "access_switches": {
              "type": "string",
              "minLength": 1
            },
            "core_switches": {
              "type": "string",
              "minLength": 1
            },
            "data_center_switches": {
              "type": "string",
              "minLength": 1
            }
          },
          "required": [
            "access_switches",
            "core_switches",
            "data_center_switches"
          ]
        },
        "infra_spec": {
          "type": "object",
          "properties": {
            "devices": {
              "type": "object",
              "properties": {
                "SW-Bld_A": {
                  "type": "object",
                  "properties": {
                    "management": {
                      "type": "object",
                      "properties": {
                        "ip": {
                          "type": "string",
                          "minLength": 1
                        },
                        "interface": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "required": [
                        "ip",
                        "interface"
                      ]
                    },
                    "interfaces": {
                      "type": "array",
                      "uniqueItems": true,
                      "minItems": 1,
                      "items": {
                        "required": [
                          "name",
                          "description",
                          "mode",
                          "trunk_mode",
                          "allowed_vlans"
                        ],
                        "properties": {
                          "name": {
                            "type": "string",
                            "minLength": 1
                          },
                          "description": {
                            "type": "string",
                            "minLength": 1
                          },
                          "mode": {
                            "type": "string",
                            "minLength": 1
                          },
                          "trunk_mode": {
                            "type": "string",
                            "minLength": 1
                          },
                          "allowed_vlans": {
                            "type": "string",
                            "minLength": 1
                          },
                          "vlan": {}
                        }
                      }
                    },
                    "vlans": {
                      "type": "array",
                      "uniqueItems": true,
                      "minItems": 1,
                      "items": {
                        "required": [
                          "id",
                          "name"
                        ],
                        "properties": {
                          "id": {
                            "type": "number"
                          },
                          "name": {
                            "type": "string",
                            "minLength": 1
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "management",
                    "interfaces",
                    "vlans"
                  ]
                },
                "SW-Bld_B": {
                  "type": "object",
                  "properties": {
                    "management": {
                      "type": "object",
                      "properties": {
                        "ip": {
                          "type": "string",
                          "minLength": 1
                        },
                        "interface": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "required": [
                        "ip",
                        "interface"
                      ]
                    },
                    "interfaces": {
                      "type": "array",
                      "uniqueItems": true,
                      "minItems": 1,
                      "items": {
                        "required": [
                          "name",
                          "description",
                          "mode",
                          "trunk_mode",
                          "allowed_vlans"
                        ],
                        "properties": {
                          "name": {
                            "type": "string",
                            "minLength": 1
                          },
                          "description": {
                            "type": "string",
                            "minLength": 1
                          },
                          "mode": {
                            "type": "string",
                            "minLength": 1
                          },
                          "trunk_mode": {
                            "type": "string",
                            "minLength": 1
                          },
                          "allowed_vlans": {
                            "type": "string",
                            "minLength": 1
                          },
                          "vlan": {}
                        }
                      }
                    },
                    "vlans": {
                      "type": "array",
                      "uniqueItems": true,
                      "minItems": 1,
                      "items": {
                        "required": [
                          "id",
                          "name"
                        ],
                        "properties": {
                          "id": {
                            "type": "number"
                          },
                          "name": {
                            "type": "string",
                            "minLength": 1
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "management",
                    "interfaces",
                    "vlans"
                  ]
                },
                "SW-Data_Center": {
                  "type": "object",
                  "properties": {
                    "management": {
                      "type": "object",
                      "properties": {
                        "ip": {
                          "type": "string",
                          "minLength": 1
                        },
                        "interface": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "required": [
                        "ip",
                        "interface"
                      ]
                    },
                    "interfaces": {
                      "type": "array",
                      "uniqueItems": true,
                      "minItems": 1,
                      "items": {
                        "required": [
                          "name",
                          "description",
                          "mode",
                          "trunk_mode",
                          "allowed_vlans"
                        ],
                        "properties": {
                          "name": {
                            "type": "string",
                            "minLength": 1
                          },
                          "description": {
                            "type": "string",
                            "minLength": 1
                          },
                          "mode": {
                            "type": "string",
                            "minLength": 1
                          },
                          "trunk_mode": {
                            "type": "string",
                            "minLength": 1
                          },
                          "allowed_vlans": {
                            "type": "number"
                          },
                          "vlan": {}
                        }
                      }
                    },
                    "vlans": {
                      "type": "array",
                      "uniqueItems": true,
                      "minItems": 1,
                      "items": {
                        "required": [
                          "id",
                          "name"
                        ],
                        "properties": {
                          "id": {
                            "type": "number"
                          },
                          "name": {
                            "type": "string",
                            "minLength": 1
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "management",
                    "interfaces",
                    "vlans"
                  ]
                },
                "SW-CORE_1": {
                  "type": "object",
                  "properties": {
                    "routing": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "minLength": 1
                        },
                        "as_number": {
                          "type": "number"
                        },
                        "router_id": {
                          "type": "string",
                          "minLength": 1
                        },
                        "networks": {
                          "type": "array",
                          "items": {
                            "required": [],
                            "properties": {}
                          }
                        }
                      },
                      "required": [
                        "name",
                        "as_number",
                        "router_id",
                        "networks"
                      ]
                    },
                    "management": {
                      "type": "object",
                      "properties": {
                        "ip": {
                          "type": "string",
                          "minLength": 1
                        },
                        "interface": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "required": [
                        "ip",
                        "interface"
                      ]
                    },
                    "interfaces": {
                      "type": "array",
                      "uniqueItems": true,
                      "minItems": 1,
                      "items": {
                        "required": [
                          "name",
                          "description",
                          "ip_address",
                          "mask",
                          "vrrp_group",
                          "vrrp_priority",
                          "vrrp_ip",
                          "mode",
                          "vlan"
                        ],
                        "properties": {
                          "name": {
                            "type": "string",
                            "minLength": 1
                          },
                          "description": {
                            "type": "string",
                            "minLength": 1
                          },
                          "ip_address": {
                            "type": "string",
                            "minLength": 1
                          },
                          "mask": {
                            "type": "string",
                            "minLength": 1
                          },
                          "vrrp_group": {
                            "type": "number"
                          },
                          "vrrp_priority": {
                            "type": "number"
                          },
                          "vrrp_ip": {
                            "type": "string",
                            "minLength": 1
                          },
                          "mode": {
                            "type": "string",
                            "minLength": 1
                          },
                          "trunk_mode": {},
                          "allowed_vlans": {},
                          "vlan": {
                            "type": "number"
                          }
                        }
                      }
                    },
                    "vlans": {
                      "type": "array",
                      "uniqueItems": true,
                      "minItems": 1,
                      "items": {
                        "required": [
                          "id",
                          "name"
                        ],
                        "properties": {
                          "id": {
                            "type": "number"
                          },
                          "name": {
                            "type": "string",
                            "minLength": 1
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "routing",
                    "management",
                    "interfaces",
                    "vlans"
                  ]
                },
                "SW-CORE_2": {
                  "type": "object",
                  "properties": {
                    "routing": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "minLength": 1
                        },
                        "as_number": {
                          "type": "number"
                        },
                        "router_id": {
                          "type": "string",
                          "minLength": 1
                        },
                        "networks": {
                          "type": "array",
                          "items": {
                            "required": [],
                            "properties": {}
                          }
                        }
                      },
                      "required": [
                        "name",
                        "as_number",
                        "router_id",
                        "networks"
                      ]
                    },
                    "management": {
                      "type": "object",
                      "properties": {
                        "ip": {
                          "type": "string",
                          "minLength": 1
                        },
                        "interface": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "required": [
                        "ip",
                        "interface"
                      ]
                    },
                    "interfaces": {
                      "type": "array",
                      "uniqueItems": true,
                      "minItems": 1,
                      "items": {
                        "required": [
                          "name",
                          "description",
                          "ip_address",
                          "mask",
                          "vrrp_group",
                          "vrrp_priority",
                          "vrrp_ip",
                          "mode",
                          "vlan"
                        ],
                        "properties": {
                          "name": {
                            "type": "string",
                            "minLength": 1
                          },
                          "description": {
                            "type": "string",
                            "minLength": 1
                          },
                          "ip_address": {
                            "type": "string",
                            "minLength": 1
                          },
                          "mask": {
                            "type": "string",
                            "minLength": 1
                          },
                          "vrrp_group": {
                            "type": "number"
                          },
                          "vrrp_priority": {
                            "type": "number"
                          },
                          "vrrp_ip": {
                            "type": "string",
                            "minLength": 1
                          },
                          "mode": {
                            "type": "string",
                            "minLength": 1
                          },
                          "trunk_mode": {},
                          "allowed_vlans": {},
                          "vlan": {
                            "type": "number"
                          }
                        }
                      }
                    },
                    "vlans": {
                      "type": "array",
                      "uniqueItems": true,
                      "minItems": 1,
                      "items": {
                        "required": [
                          "id",
                          "name"
                        ],
                        "properties": {
                          "id": {
                            "type": "number"
                          },
                          "name": {
                            "type": "string",
                            "minLength": 1
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "routing",
                    "management",
                    "interfaces",
                    "vlans"
                  ]
                }
              },
              "required": [
                "SW-Bld_A",
                "SW-Bld_B",
                "SW-Data_Center",
                "SW-CORE_1",
                "SW-CORE_2"
              ]
            }
          },
          "required": [
            "devices"
          ]
        }
      },
      "required": [
        "metadatos",
        "hosts_groups",
        "infra_spec"
      ]
    }
  },
  "required": [
    "modelo"
  ]
}